(this["webpackJsonpcovid-19-app"]=this["webpackJsonpcovid-19-app"]||[]).push([[0],{34:function(e,t,a){e.exports=a(62)},62:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(30),l=a.n(r),s=a(11),i=a(1);var o=function(){return c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},c.a.createElement("a",{className:"navbar-brand ",href:"localhost:3000"},"Covid-19 Monitor"),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},c.a.createElement("div",{className:"text-center navbar-nav"},c.a.createElement(s.b,{className:"nav-item nav-link",exact:!0,to:"/"},"Home"),c.a.createElement(s.b,{className:"nav-item nav-link",exact:!0,to:"/essentials"},"Essentials"))))},d=a(13),m=a(7),u=a(8),v=a.n(u),E=Object(n.createContext)(),p=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],l=a[1];return c.a.createElement(E.Provider,{value:{state:r,updateState:l}},e.children)},g=a(18),h=a.n(g),f=a(32),b=a(33),N=a.n(b),x={recordid:-1},y=function(e,t){var a=0;return e.forEach((function(e){a+=e[t]})),a},j=function(e){console.log(e.currentTarget.nextElementSibling),e.currentTarget.nextElementSibling.classList.contains("d-none")?e.currentTarget.nextElementSibling.classList.remove("d-none"):e.currentTarget.nextElementSibling.classList.add("d-none")},O=function(e,t,a){return e.filter((function(e){return e[a]===t}))};var k=function(){var e=Object(f.a)(h.a.mark((function e(t,a){var n,c,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){navigator.geolocation.getCurrentPosition(e,t)}));case 2:n=e.sent,c=n.coords.latitude,r=n.coords.longitude,v.a.get("https://api.opencagedata.com/geocode/v1/json?q="+c+"+"+r+"&key=e2f71dbb452c4ebd90f841fc76f1bf6a").then((function(e){var n,c=e.data.results[0].components.city,r=e.data.results[0].components.state;0===(n=O(t,c,"city")).length&&(n=O(t,r,"state")),0===n.length?a([x]):a(Object(d.a)(n))}));case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),w=function(e,t){return e.hasOwnProperty("delta")&&e.delta.hasOwnProperty(t)&&0!==e.delta[t]?"(+ "+e.delta[t]+")":""},C=function(e,t){var a=0;return e.forEach((function(e){a+=e.delta[t]})),a>0?"(+ "+a+")":""},S=a(64);var D=function(e){var t;return Object(n.useContext)(E).state.forEach((function(a){a.statecode===e.code&&(t=a.districtData)})),c.a.createElement("div",{className:"container sub"},c.a.createElement("div",{className:"row justify-content-center"},c.a.createElement("div",{className:"col-4 text-left title"},"District"),c.a.createElement("div",{className:"col-2 text-right title"},"C"),c.a.createElement("div",{className:"col-2 text-right title"},"A"),c.a.createElement("div",{className:"col-2 text-right title"},"R"),c.a.createElement("div",{className:"col-2 text-right title"},"D")),t.map((function(e){return c.a.createElement("div",{key:Object(S.a)()},c.a.createElement("div",{className:"row justify-content-center text-center"},c.a.createElement("div",{className:"col-4 text-left data subdata"},e.district),c.a.createElement("div",{className:"col-2 text-right data subdata"},c.a.createElement("div",{className:"red update"},w(e.confirmed,"confirmed")),e.confirmed),c.a.createElement("div",{className:"col-2 text-right data subdata"},e.active),c.a.createElement("div",{className:"col-2 text-right data subdata"},c.a.createElement("div",{className:"green update"},w(e.recovered,"recovered")),e.recovered),c.a.createElement("div",{className:"col-2 text-right data subdata"},c.a.createElement("div",{className:"black update"},w(e.deceased,"deceased")),e.deceased)))})))},T=function(e){var t=e.change,a=e.key1,n=e.type;return c.a.createElement("div",null,c.a.createElement("h3",null,t.hasOwnProperty(a)&&t[a].delta.hasOwnProperty(n)?"\u2191 "+t[a].delta[n]:null))},P=function(e){var t=e.change,a=e.type,n=e.key1;return c.a.createElement("div",{className:("active"===a?"activeCases":a)+" text-center"},"active"!==a?c.a.createElement(T,{change:t,key1:n,type:a}):null,c.a.createElement("div",null,c.a.createElement("h1",null,a.toUpperCase())),"active"!==a?c.a.createElement("div",null,c.a.createElement("h3",null,t.hasOwnProperty(n)?t[n].total[a]:null)):function(e,t){if(e.hasOwnProperty(t))return c.a.createElement("h3",null,e[t].total.confirmed-e[t].total.recovered-e[t].total.deceased-e[t].total.migrated)}(t,n))},L=function(){var e=Object(n.useContext)(E),t=e.state,a=e.updateState,r=Object(n.useState)({}),l=Object(m.a)(r,2),s=l[0],i=l[1];return Object(n.useEffect)((function(){v.a.get("https://api.covid19india.org/v2/state_district_wise.json").then((function(e){a(Object(d.a)(e.data))})),v.a.get("https://api.covid19india.org/v3/data.json").then((function(e){i((function(t){return e.data}))}))}),[]),c.a.createElement("div",null,c.a.createElement("div",{className:"banner col-lg-3 col-md-6 text-center"},c.a.createElement(P,{change:s,type:"confirmed",key1:"TT"})),c.a.createElement("div",{className:"banner col-lg-3 col-md-6 text-center"},c.a.createElement(P,{change:s,type:"active",key1:"TT"})),c.a.createElement("div",{className:"banner col-lg-3 col-md-6 text-center"},c.a.createElement(P,{change:s,type:"recovered",key1:"TT"})),c.a.createElement("div",{className:"banner col-lg-3 col-md-6 text-center"},c.a.createElement(P,{change:s,type:"deceased",key1:"TT"})),c.a.createElement("h1",{className:"text-center heading"},"State-wise Data"),c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-4 text-left title"},"State"),c.a.createElement("div",{className:"col-2 text-right title"},"C"),c.a.createElement("div",{className:"col-2 text-right title"},"A"),c.a.createElement("div",{className:"col-2 text-right title"},"R"),c.a.createElement("div",{className:"col-2 text-right title"},"D")),t.map((function(e){return c.a.createElement("div",{key:e.statecode},c.a.createElement("div",{className:"row",onClick:"UN"!==e.statecode?j:null},c.a.createElement("div",{className:"col-4 text-left data"},e.state),c.a.createElement("div",{className:"col-2 text-right data align-text-bottom"},c.a.createElement("div",{className:"red update"},C(e.districtData,"confirmed")),y(e.districtData,"confirmed")),c.a.createElement("div",{className:"col-2 text-right data"},y(e.districtData,"active")),c.a.createElement("div",{className:"col-2 text-right data"},c.a.createElement("div",{className:"green update"},C(e.districtData,"recovered")),y(e.districtData,"recovered")),c.a.createElement("div",{className:"col-2 text-right data"},c.a.createElement("div",{className:"black update"},C(e.districtData,"deceased")),y(e.districtData,"deceased"))),c.a.createElement("div",{className:"row  d-none"},c.a.createElement("div",{className:"col"},c.a.createElement(D,{code:e.statecode}))))}))))};var R=function(e){var t=e.results;return console.log(t.length),-1===t[0].recordid?c.a.createElement("h1",{className:"text-center no-result"},"No Result Found"):t.map((function(e){return c.a.createElement("div",{className:"card text-center text-white bg-dark",key:e.recordid},c.a.createElement("div",{className:"card-body"},c.a.createElement("h5",{className:"card-title"},e.nameoftheorganisation),c.a.createElement("h6",{className:"card-subtitle mb-2 text-muted"},e.category),c.a.createElement("p",{className:"card-text"},e.descriptionandorserviceprovided),c.a.createElement("p",null,e.city+","+e.state),c.a.createElement("p",null,"Phone No. :",e.phonenumber),c.a.createElement("a",{href:e.contact,className:"btn btn-light"},"Link")))}))},A=Object(n.createContext)(),U=function(e){var t=Object(n.useState)([]),a=Object(m.a)(t,2),r=a[0],l=a[1];return c.a.createElement(A.Provider,{value:{resources:r,updateResources:l}},e.children)};var F=function(){var e=Object(n.useContext)(A),t=e.resources,a=e.updateResources,r=Object(n.useState)([]),l=Object(m.a)(r,2),s=l[0],i=l[1];return Object(n.useEffect)((function(){v.a.get("https://api.covid19india.org/resources/resources.json").then((function(e){a(e.data.resources),i([])}))}),[]),c.a.createElement("div",null,c.a.createElement("h1",{className:"text-center essentials-header"},"Essentials Finder"),c.a.createElement("form",{className:"text-center essentials-form",onSubmit:function(e){e.preventDefault(),function(e,t,a){var n,c=e.replace(/\w+/g,N.a.capitalize);0===(n=O(t,c,"city")).length&&(n=O(t,c,"state")),0===n.length?a([x]):a(Object(d.a)(n))}(e.target.childNodes[0].value,t,i)}},c.a.createElement("input",{className:"essentials-input",type:"text",placeholder:"Enter City or State"})),c.a.createElement("h6",{className:"text-center essentials-or"},"or"),c.a.createElement("div",{className:"essentials-button"},c.a.createElement("button",{className:"btn btn-secondary btn-lg",onClick:function(){k(t,i)}},"Use My Location")),0!==s.length?c.a.createElement(R,{results:s}):null)};var J=function(){return c.a.createElement(p,null,c.a.createElement(U,null,c.a.createElement(s.a,null,c.a.createElement("div",{className:"App"},c.a.createElement(o,null),c.a.createElement(i.a,{exact:!0,path:"/",component:L}),c.a.createElement(i.a,{exact:!0,path:"/essentials",component:F})))))};l.a.render(c.a.createElement(J,null),document.getElementById("root"))}},[[34,1,2]]]);
//# sourceMappingURL=main.edfe9a30.chunk.js.map